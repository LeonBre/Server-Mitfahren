<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Test</title>
    <meta name="author" content="Leon Johann Brettin">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/css/materialize.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <link rel="stylesheet" href="css/master.css" media="screen" title="no title" charset="utf-8">
  </head>
<body>
  <nav>
    <div class="nav-wrapper teal lighten-2">
      <a href="#" class="brand-logo">Mitfahren</a>
      <ul id="nav-mobile" class="right hide-on-med-and-down">
        <li><a href="sass.html">Sass</a></li>
        <li><a href="badges.html">Components</a></li>
        <li><a id="navbarLogin">Login</a></li>
      </ul>
    </div>
  </nav>


    <button type="button" name="button" id="button-testDatabase">Test Database</button>
  </body>


    <!-- Modal Structure -->
    <div id="loginModal" class="modal">
      <div class="modal-content loginContent">
              <h3 class="brand-logo teal-text">Einloggen</h3>
              <div class="row">
                <div class="input-field col s12">
                  <input id="username" type="text" class="validate">
                  <label for="username">Nutzername</label>
                </div>
              </div>
              <div class="row">
                <div class="input-field col s12">
                  <input id="password" type="password" class="validate">
                  <label for="password">Passwort</label>
                </div>
              </div>
              <div class="row">
                <div class="col m6">
                  <button type="submit" class="waves-effect waves-light btn teal"> Login
                  </button>
                </div>
            </div>
      </div>
    </div>




  <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.7/js/materialize.min.js"></script>
  <script src="resources/CryptoJS/rollups/sha512.js"></script>
  <script src="resources/jquery-cookie/js.cookie.js"></script>

  <script type="text/javascript">
    var destinationURL = "http://localhost:8080";
    var $testDatabase = $('#button-testDatabase');

    $(document).ready(function(){
 });


    $testDatabase.on('click', function() {
      $('#loginModal').openModal();

      Cookies.set('test', 'LeonBrettin');
      console.log(Cookies.get());

      console.log("Message is send");

      var hashWordArray = CryptoJS.SHA512("");
      var base64HashString = hashWordArray.toString(CryptoJS.enc.Base64);
      console.log(base64HashString);
      data = {
        userName : 'Max',
        userHash : base64HashString
      }

      data = JSON.stringify(data)
      $.ajax({
        type: 'POST',
        url: destinationURL + '/Server-Mitfahren/apiv1/testHash',
        contentType: "application/json",
        data: data,
        success: function(answer) {
          console.log("From Server: ", JSON.stringify(answer))
        },
        error: function() {
          console.log("Error");
        }
      });
    });
  </script>

  <script type="text/javascript" src="js/navbar.js"></script>
</html>
